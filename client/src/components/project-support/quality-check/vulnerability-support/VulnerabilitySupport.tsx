import { Divider, IconButton, Paper, Stack, Typography } from "@mui/material";
import { Vulnerability } from "../../../../hooks/use-vulnerabilities";
import { useLocation, useNavigate } from "react-router-dom";
import ArrowBackIosNewIcon from "@mui/icons-material/ArrowBackIosNew";

const VulnerabilitySupport = () => {
    const navigate = useNavigate();
    const { vulnerability } = useLocation().state as {
        vulnerability: Vulnerability;
    };

    const optionsComponents = Object.entries(vulnerability).map(
        ([key, value]) => {
            return (
                <Stack direction={"row"} alignItems={"center"} width={"100%"}>
                    <Typography variant="body1" minWidth={150}>
                        {key}:
                    </Typography>
                    <Typography variant="body2" flex={1}>
                        {value}
                    </Typography>
                </Stack>
            );
        }
    );

    return (
        <Stack margin={2} width={"100%"}>
            <Stack direction={"row"} alignItems={"center"}>
                <IconButton size="small">
                    <ArrowBackIosNewIcon
                        onClick={() => navigate(-1)}
                        fontSize={"small"}
                    />
                </IconButton>
                <Typography variant="h5">{vulnerability.title}</Typography>
            </Stack>
            <Divider />
            <Paper sx={{ margin: 2 , padding: 1}} variant="outlined">
                <Stack direction={"column"}>{optionsComponents}</Stack>
            </Paper>
        </Stack>
    );
};

export default VulnerabilitySupport;
